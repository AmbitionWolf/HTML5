<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>

	<body>

		<input type="button" id="begin" value="开始计算" />

		<script type="text/javascript">
			/*
			 * 根据日期确定是当年的第几天
			 */
			var beginEle = document.getElementById("begin");
			var year = 2017,
				month = 3,
				day = 7;
			var mon = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];

			beginEle.onclick = function() {
				year = parseInt(Math.random() * (2017 - 2000 + 1) + 2000);
				console.log(year);
				var condition1 = year % 400 === 0;
				var condition2 = year % 4 === 0 && year % 100 != 0;
				if(condition1 || condition2) {
					mon[1] = 29;
				} else {
					mon[1] = 28;
				}
				console.log(mon);
				//计算总天数
				var sum = 0;
				for(var i = 0; i < month - 1; i++) {
					sum += mon[i];
				}
				sum = sum + day;
				console.log("总天数= " + sum);
			}
			
		</script>
	</body>

</html>